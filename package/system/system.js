"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ParticleSystem=void 0;var three_1=require("three"),ParticleSystem=function(){function t(){this.particles=[],this.numberParticles=0,this.speed=1,this.geometry=new three_1.BufferGeometry,this.scene=new three_1.Scene}return t.prototype.setParticlesNumber=function(t){this.numberParticles=t},t.prototype.getParticlesNumber=function(){return this.particles.length},t.prototype.setGeometry=function(t){this.geometry=t,this.makeVertices()},t.prototype.setSpeed=function(t){this.speed=t},t.prototype.changeSpeed=function(t){this.speed=t},t.prototype.makeVertices=function(){for(var t=[],e=0;e<this.numberParticles;e++){var i=this.make();this.particles.push(i),t.push(i.x,i.y,i.z)}this.updateGeometricParticles(t)},t.prototype.updateGeometricParticles=function(t){this.geometry.setAttribute("position",new three_1.Float32BufferAttribute(t,3))},t.prototype.random=function(t,e){return Math.random()*(e-t)+t},t.prototype.dispose=function(){this.geometry.dispose(),this.geometry.deleteAttribute("position"),this.particles=[],this.numberParticles=0,this.speed=1},t.prototype.setScene=function(t){this.scene=t},t.prototype.apply=function(t,e,i,r){this.geometry.attributes.position.setXYZ(t,e,i,r)},t.prototype.updateParticles=function(){for(var t=[],e=0;e<this.particles.length;e++){var i=this.particles[e];t.push(i.x,i.y,i.z)}this.updateGeometricParticles(t)},t.prototype.validatePositiveNumber=function(t){return t>=0},t.prototype.changeNumberParticles=function(t){if(t=Number(t.toPrecision(1)),this.validatePositiveNumber(t)&&(t<this.numberParticles&&(this.particles=this.particles.splice(this.numberParticles-t),this.setParticlesNumber(this.particles.length),this.updateParticles()),t>this.numberParticles)){for(var e=0;e<t;e++)this.particles.push(this.make());this.setParticlesNumber(this.numberParticles+t),this.updateParticles()}},t}();exports.ParticleSystem=ParticleSystem;